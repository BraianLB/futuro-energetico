<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hidr√≥geno y Solar: El Futuro de la Energ√≠a Limpia</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* Gris claro */
        }
        .gradient-bg {
            background: linear-gradient(135deg, #10b981 0%, #065f46 100%); /* Verde Esmeralda */
        }
        .card {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .section-icon {
            color: #10b981;
        }
        /* Estilos espec√≠ficos para la secci√≥n solar */
        .solar-card {
            background-color: #fffbeb; 
            border-color: #fcd34d;
        }
        .solar-title {
            color: #d97706; /* Naranja oscuro */
        }

        /* 1. Estilos para el video de fondo */
        .video-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -2; /* Detr√°s de todo */
        }
        #background-video {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        /* 2. Capa de difuminado (opacidad) */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4); /* Negro con 40% de opacidad */
            z-index: -1;
        }
        /* 3. Estilo para el bot√≥n de regreso */
        .back-button {
            transition: background-color 0.3s, transform 0.2s;
        }
        .back-button:hover {
            transform: translateY(-2px);
        }

        /* 4. Estilo para el banner de resumen solar */
        .solar-summary-banner {
            background: linear-gradient(90deg, #fcd34d 0%, #d97706 100%); /* Amarillo a Naranja */
            color: #1f2937; /* Gris oscuro para alto contraste */
            border-radius: 1rem;
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.5); /* Sombra anaranjada */
        }

        /* 5. Estilos para el juego */
        #game-canvas {
            background: linear-gradient(to bottom, #87ceeb, #a1dff7); /* Cielo azul claro */
            cursor: none; /* Ocultar el cursor sobre el canvas */
        }

        /* 6. Estilos para el juego de Hidr√≥geno */
        .h2-game-component {
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }
        .h2-game-component.active {
            border-color: #34d399;
            box-shadow: 0 0 15px rgba(52, 211, 153, 0.5);
        }
        .water-molecule {
            cursor: grab;
            user-select: none;
        }
        .water-molecule:active {
            cursor: grabbing;
        }
        .electrolyzer-drop-zone.drag-over {
            background-color: #a7f3d0;
            border-style: dashed;
        }
        .h2-game-button {
            transition: all 0.2s ease;
        }
        .h2-game-button:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
        }

    </style>
</head>
<body class="antialiased">

    <!-- Contenedor principal de la aplicaci√≥n: muestra solo una vista a la vez -->
    <div id="app-container" class="min-h-screen">
        
        <!-- ============================================== -->
        <!-- VIEW 1: P√ÅGINA DE INICIO (HOME) -->
        <!-- ============================================== -->
        <div id="home-view" class="view">
            <!-- Contenedor del Video de Fondo y Overlay -->
            <div class="video-container">
                <video id="background-video" autoplay loop muted poster="https://www.pexels.com/es-es/download/video/8851165/">
                    <!-- El archivo de video se cargar√° desde el path proporcionado -->
                    <source src="8851165-uhd_2560_1440_30fps.mp4" type="video/mp4">
                    Tu navegador no soporta el tag de video.
                </video>
            </div>
            <div class="overlay"></div>

            <!-- Contenido del Home: Centrado en la pantalla -->
            <div class="relative min-h-screen flex items-center justify-center text-white p-4">
                <div class="text-center bg-black bg-opacity-50 p-8 rounded-xl shadow-2xl max-w-2xl">
                    <h1 class="text-5xl sm:text-6xl font-extrabold mb-4">
                        El Futuro Energ√©tico
                    </h1>
                    <p class="text-xl sm:text-2xl mb-10 font-light">
                        Descubre los dos pilares de la descarbonizaci√≥n global.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-6 justify-center">
                        <button onclick="navigateTo('hydrogen-view')"
                                class="w-full sm:w-auto px-8 py-4 text-lg font-bold rounded-xl gradient-bg hover:bg-green-700 transition duration-300 transform hover:scale-105 shadow-xl">
                            Energ√≠a por Hidr√≥geno
                        </button>
                        <button onclick="navigateTo('solar-view')"
                                class="w-full sm:w-auto px-8 py-4 text-lg font-bold rounded-xl bg-yellow-500 text-gray-900 hover:bg-yellow-600 transition duration-300 transform hover:scale-105 shadow-xl">
                            Energ√≠a Solar Fotovoltaica
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================== -->
        <!-- VIEW 2: P√ÅGINA DE HIDR√ìGENO -->
        <!-- (Contenido sin cambios, para mantener la coherencia) -->
        <!-- ============================================== -->
        <div id="hydrogen-view" class="view hidden bg-gray-50 min-h-screen pt-4 pb-16">
            <header class="gradient-bg text-white py-6 px-4 rounded-b-xl shadow-lg">
                <div class="max-w-6xl mx-auto flex justify-between items-center">
                    <h1 class="text-3xl font-extrabold">
                        Energ√≠a por Hidr√≥geno: Vector de Almacenamiento
                    </h1>
                    <button onclick="navigateTo('home-view')" class="back-button px-4 py-2 bg-white text-green-700 font-semibold rounded-lg shadow-md">
                        &larr; Volver al Inicio
                    </button>
                </div>
            </header>
            
            <main class="max-w-6xl mx-auto p-4 sm:p-8">

                <!-- SECCI√ìN 0.5: CARRUSEL DE IM√ÅGENES (HIDR√ìGENO) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-green-500 pb-2">Galer√≠a: El Hidr√≥geno en la Pr√°ctica</h2>
                    <div id="h2-image-carousel" class="relative max-w-md mx-auto rounded-lg shadow-lg overflow-hidden">
                        <!-- Contenedor de las im√°genes que se deslizar√° -->
                        <div id="h2-carousel-slides" class="flex transition-transform duration-500 ease-in-out">
                            <!-- Slide 1 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/H2.png" alt="Estaci√≥n de repostaje de hidr√≥geno para veh√≠culos" class="w-full h-auto object-cover">
                            </div>
                            <!-- Slide 2 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/H1.png" alt="Autob√∫s urbano impulsado por pila de combustible de hidr√≥geno" class="w-full h-auto object-cover">
                            </div>
                            <!-- Slide 3 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/H3.png" alt="Planta de producci√≥n de hidr√≥geno verde con electrolizadores" class="w-full h-auto object-cover">
                            </div>
                        </div>
                        <!-- Puntos de navegaci√≥n -->
                        <div id="h2-carousel-dots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
                            <!-- Los puntos se generar√°n con JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Secci√≥n 1: ¬øQu√© es y D√≥nde se Usa? (Hidr√≥geno) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-green-500 pb-2">1. Hidr√≥geno: Vector Energ√©tico</h2>
                    <div class="grid md:grid-cols-2 gap-6">

                        <div class="card bg-white p-6 rounded-lg border border-gray-100">
                            <h3 class="text-2xl font-semibold text-green-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2 section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                                Vector, no Fuente
                            </h3>
                            <p class="text-gray-600">
                                El hidr√≥geno no es una fuente de energ√≠a (como el sol o el viento), sino un "vector energ√©tico", un "portador" de energ√≠a. Es una forma de almacenar y transportar la electricidad generada por fuentes renovables, liber√°ndola m√°s tarde como electricidad, calor y, crucialmente, solo agua como subproducto.
                            </p>
                        </div>

                        <div class="card bg-white p-6 rounded-lg border border-gray-100">
                            <h3 class="text-2xl font-semibold text-green-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2 section-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m6 0h6"></path></svg>
                                Aplicaciones Clave
                            </h3>
                            <ul class="list-disc list-inside text-gray-600 space-y-2">
                                <li>Movilidad Pesada: Camiones, trenes y barcos de larga distancia (donde las bater√≠as son demasiado pesadas).</li>
                                <li>Industria Pesada: Descarbonizaci√≥n de procesos que requieren altas temperaturas (acero, cemento).</li>
                                <li>Almacenamiento de Energ√≠a: Almacenar el exceso de energ√≠a renovable estacionalmente.</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- Secci√≥n 2: Funcionamiento del Hidr√≥geno (Pila de Combustible) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-green-500 pb-2">2. Funcionamiento de la Pila de Combustible</h2>
                    <div class="grid md:grid-cols-3 gap-6">
                        <!-- Historia -->
                        <div class="card bg-white p-6 rounded-lg border border-gray-100 md:col-span-1">
                            <h3 class="text-xl font-semibold text-green-700 mb-3">Origen Hist√≥rico</h3>
                            <p class="text-gray-600">
                                La pieza central, la "Pila de Combustible", fue demostrada por primera vez por Sir William Robert Grove en 1839 en Gales, combinando hidr√≥geno y ox√≠geno para producir electricidad y agua.
                            </p>
                        </div>

                        <!-- Funcionamiento -->
                        <div class="card bg-white p-6 rounded-lg border border-gray-100 md:col-span-2">
                            <h3 class="text-xl font-semibold text-green-700 mb-3">Proceso Qu√≠mico</h3>
                            <div class="text-gray-600">
                                <ol class="list-decimal list-inside space-y-2">
                                    <li>El Hidr√≥geno entra y se divide en protones y electrones.</li>
                                    <li>Los electrones generan la electricidad viajando por un circuito externo.</li>
                                    <li>Los protones pasan por una membrana hasta el c√°todo.</li>
                                    <li>All√≠, los protones, electrones y el Ox√≠geno del aire se combinan para crear Agua.</li>
                                </ol>
                    
                            </div>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 2.5: JUEGO DID√ÅCTICO (HIDR√ìGENO) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-green-500 pb-2">¬°Juega y Aprende! El Ciclo del Hidr√≥geno Verde</h2>
                    <div class="card bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                        <div class="text-center mb-4">
                            <p class="text-gray-600">Completa el ciclo del Hidr√≥geno Verde 5 veces. <strong>1.</strong> Genera energ√≠a renovable. <strong>2.</strong> Arrastra agua al electrolizador para crear H‚ÇÇ. <strong>3.</strong> El H‚ÇÇ se usar√° autom√°ticamente para generar electricidad.</p>
                        </div>
                        
                        <!-- Contenedor del Juego de Hidr√≥geno -->
                        <div id="h2-game-container" class="w-full max-w-4xl mx-auto bg-gray-100 rounded-lg p-4 relative">
                            <!-- Controles Superiores -->
                            <div class="flex justify-between items-center mb-4">
                                <div class="text-lg font-bold">Ciclos: <span id="h2-cycles-display">0</span> / 5</div>
                                <button id="h2-start-button" class="h2-game-button px-6 py-2 text-lg font-bold text-white bg-green-600 rounded-lg shadow-lg">Iniciar</button>
                                <div class="text-lg font-bold">Tiempo: <span id="h2-timer-display">0s</span></div>
                            </div>

                            <!-- √Årea de Juego -->
                            <div class="grid grid-cols-3 gap-4 items-center text-center">
                                <!-- 1. Generaci√≥n Renovable -->
                                <div class="h2-game-component bg-white p-4 rounded-lg">
                                    <h3 class="font-bold text-lg mb-2">1. Generaci√≥n</h3>
                                    <div class="flex justify-around">
                                        <button id="generate-solar" class="h2-game-button p-2 rounded-full bg-yellow-400 disabled:opacity-50 disabled:cursor-not-allowed" title="Generar con Solar">‚òÄÔ∏è</button>
                                        <button id="generate-wind" class="h2-game-button p-2 rounded-full bg-blue-300 disabled:opacity-50 disabled:cursor-not-allowed" title="Generar con E√≥lica">üí®</button>
                                    </div>
                                    <div class="mt-2">Energ√≠a: <span id="h2-energy-display" class="font-bold">0</span></div>
                                </div>

                                <!-- 2. Electrolizador -->
                                <div id="electrolyzer" class="h2-game-component bg-white p-4 rounded-lg electrolyzer-drop-zone">
                                    <h3 class="font-bold text-lg mb-2">2. Electrolizador</h3>
                                    <div class="text-gray-500 text-sm h-16 flex items-center justify-center">Arrastra H‚ÇÇO aqu√≠</div>
                                    <div id="water-source" class="mt-2 flex justify-center items-center gap-2">
                                        <div id="water-molecule" draggable="true" class="water-molecule text-2xl p-2 rounded-full bg-blue-500 text-white">üíß</div>
                                        <span class="font-bold">H‚ÇÇO</span>
                                    </div>
                                </div>

                                <!-- 3. Almacenamiento y Uso -->
                                <div class="h2-game-component bg-white p-4 rounded-lg">
                                    <h3 class="font-bold text-lg mb-2">3. Almacenamiento y Uso</h3>
                                    <!-- Tanque de H2 -->
                                    <div class="w-full bg-gray-200 rounded h-6 mb-2">
                                        <div id="h2-storage-bar" class="bg-green-500 h-6 rounded text-xs text-white text-center leading-6" style="width: 0%;">H‚ÇÇ</div>
                                    </div>
                                    <!-- Bater√≠a -->
                                    <div class="w-full bg-gray-200 rounded h-6">
                                        <div id="h2-battery-bar" class="bg-yellow-500 h-6 rounded text-xs text-black text-center leading-6" style="width: 0%;">‚ö°</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Mensaje Final -->
                            <div id="h2-end-message" class="hidden absolute inset-0 bg-black bg-opacity-70 flex-col items-center justify-center text-white text-2xl font-bold">
                                ¬°Ciclo completado!
                                <span id="h2-final-time" class="text-4xl mt-2"></span>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <p class="text-sm text-gray-500">Este juego simula c√≥mo la energ√≠a renovable se usa para separar el agua (electr√≥lisis) en hidr√≥geno (H‚ÇÇ) y ox√≠geno, y c√≥mo ese hidr√≥geno se usa luego en una pila de combustible para generar electricidad limpia.</p>
                        </div>
                    </div>
                </section>

                <!-- Secci√≥n 3: Retos del Hidr√≥geno -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">3. Retos del Hidr√≥geno</h2>
                    <div class="grid md:grid-cols-3 gap-6">

                        <!-- Reto 1: Infraestructura -->
                        <div class="card bg-red-50 p-6 rounded-lg border border-red-200">
                            <h3 class="text-2xl font-semibold text-red-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                Infraestructura Limitada
                            </h3>
                            <p class="text-gray-600">
                                La red de estaciones de repostaje (hidrogeneras) es escasa y costosa de construir, lo que frena la adopci√≥n en el transporte.
                            </p>
                        </div>

                        <!-- Reto 2: Eficiencia -->
                        <div class="card bg-red-50 p-6 rounded-lg border border-red-200">
                            <h3 class="text-2xl font-semibold text-red-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l2-2l2 2v13"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19H5a2 2 0 01-2-2V7a2 2 0 012-2h4m2 14h4m-4 0h4m4-4h4"></path></svg>
                                Baja Eficiencia
                            </h3>
                            <p class="text-gray-600">
                                El ciclo completo (generar H2, transportarlo y convertirlo en electricidad) tiene p√©rdidas importantes (25-45% de eficiencia final).
                            </p>
                        </div>

                        <!-- Reto 3: Costo y Origen -->
                        <div class="card bg-red-50 p-6 rounded-lg border border-red-200">
                            <h3 class="text-2xl font-semibold text-red-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c1.657 0 3 1.343 3 3v2a3 3 0 01-3 3h-2a3 3 0 01-3-3v-2c0-1.657 1.343-3 3-3z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10"></path></svg>
                                Hidr√≥geno "Gris"
                            </h3>
                            <p class="text-gray-600">
                                Gran parte del H2 se produce a√∫n con combustibles f√≥siles (hidr√≥geno "Gris"), anulando sus beneficios ambientales.
                            </p>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 4: EL ROL DEL HIDR√ìGENO -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-blue-500 pb-2">4. El Papel Crucial del Hidr√≥geno</h2>
                    <div class="card bg-blue-50 p-6 rounded-lg border border-blue-200">
                        <p class="text-gray-600 text-lg">
                            El hidr√≥geno es la soluci√≥n m√°s viable para descarbonizar los sectores donde las bater√≠as son insuficientes o inviables: Transporte de Alto Peso (camiones, barcos) y Almacenamiento de Red Estacional (guardar energ√≠a a largo plazo).
                        </p>
                    </div>
                </section>

                <!-- SECCI√ìN 5: VIDEO (HIDR√ìGENO) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-green-500 pb-2">Para Empezar: ¬øQu√© es la Energ√≠a del Hidr√≥geno?</h2>
                    <div class="bg-white p-4 rounded-lg shadow-lg max-w-3xl mx-auto">
                        <!-- Contenedor responsivo para el video -->
                        <div class="w-full">
                            <iframe class="w-full aspect-video rounded-md" 
                                    src="https://www.youtube.com/embed/VwS7Sz833OY" 
                                    title="Video explicativo sobre la energ√≠a del hidr√≥geno" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                            </iframe>
                        </div>
                        <p class="text-center text-sm text-gray-500 mt-4">
                            Este video explica de forma sencilla c√≥mo funciona el hidr√≥geno como vector energ√©tico y su papel en el futuro.
                        </p>
                    </div>
                </section>

            </main>
        </div>

        <!-- ============================================== -->
        <!-- VIEW 3: P√ÅGINA DE ENERG√çA SOLAR (ACTUALIZADA) -->
        <!-- ============================================== -->
        <div id="solar-view" class="view hidden bg-gray-50 min-h-screen pt-4 pb-16">
            <header class="bg-yellow-500 text-gray-900 py-6 px-4 rounded-b-xl shadow-lg">
                <div class="max-w-6xl mx-auto flex justify-between items-center">
                    <h1 class="text-3xl font-extrabold">
                        Energ√≠a Solar Fotovoltaica: Generaci√≥n Limpia
                    </h1>
                    <button onclick="navigateTo('home-view')" class="back-button px-4 py-2 bg-white text-yellow-700 font-semibold rounded-lg shadow-md">
                        &larr; Volver al Inicio
                    </button>
                </div>
            </header>

            <main class="max-w-6xl mx-auto p-4 sm:p-8">
                
                <!-- SECCI√ìN 0.5: CARRUSEL DE IM√ÅGENES (NUEVA) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-yellow-500 pb-2">Galer√≠a: La Energ√≠a Solar en Acci√≥n</h2>
                    <div id="image-carousel" class="relative max-w-md mx-auto rounded-lg shadow-lg overflow-hidden">
                        <!-- Contenedor de las im√°genes que se deslizar√° -->
                        <div id="carousel-slides" class="flex transition-transform duration-500 ease-in-out">
                            <!-- Slide 1 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/1.png" alt="Granja solar con paneles fotovoltaicos en un campo" class="w-full h-auto object-cover">
                            </div>
                            <!-- Slide 2 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/2.png" alt="Paneles solares instalados en el techo de una casa residencial" class="w-full h-auto object-cover">
                            </div>
                            <!-- Slide 3 -->
                            <div class="w-full flex-shrink-0">
                                <img src="img/3.png" alt="Planta de energ√≠a solar flotante en un embalse" class="w-full h-auto object-cover">
                            </div>
                        </div>
                        <!-- Puntos de navegaci√≥n -->
                        <div id="carousel-dots" class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
                            <!-- Los puntos se generar√°n con JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 1: HISTORIA Y DESCUBRIMIENTO -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-yellow-500 pb-2">1. Historia y Descubrimiento del Efecto Fotovoltaico</h2>
                    <div class="grid md:grid-cols-2 gap-6">

                        <!-- Descubrimiento del Efecto FV -->
                        <div class="card solar-card p-6 rounded-lg border">
                            <h3 class="text-2xl font-semibold solar-title mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2 text-yellow-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.457 4.907a1 1 0 01-1.414 0l-.707-.707a1 1 0 011.414-1.414l.707.707a1 1 0 010 1.414zM10 15a1 1 0 01-1-1v-1a1 1 0 112 0v1a1 1 0 01-1 1zm-4.907-.457a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0zM3 10a1 1 0 011-1h1a1 1 0 110 2H4a1 1 0 01-1-1zm2.343-4.543a1 1 0 010-1.414l.707-.707a1 1 0 111.414 1.414l-.707.707a1 1 0 01-1.414 0z"></path></svg>
                                1839: Edmond Becquerel
                            </h3>
                            <p class="text-gray-700">
                                El efecto fotovoltaico fue descubierto por el f√≠sico franc√©s Edmond Becquerel en 1839. Observ√≥ que al iluminar un electrodo de plata cubierto con cloruro de plata sumergido en una soluci√≥n √°cida, se generaba una peque√±a corriente el√©ctrica. .
                            </p>
                            <p class="text-sm text-gray-500 mt-2">
                                Aunque primitivo, este experimento sent√≥ las bases para la conversi√≥n directa de luz en electricidad.
                            </p>
                        </div>

                        <!-- Primeras C√©lulas y Aplicaciones -->
                        <div class="card solar-card p-6 rounded-lg border">
                            <h3 class="text-2xl font-semibold solar-title mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                                Aplicaci√≥n Inicial: El Espacio
                            </h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-3">
                                <li>
                                    1883 - C√©lula de Selenio: Charles Fritts crea la primera c√©lula solar de selenio, recubierta con una delgada capa de oro. Su eficiencia era menor al 1%, pero demostr√≥ la viabilidad de la tecnolog√≠a.
                                </li>
                                <li>
                                    1954 - C√©lula de Silicio Pr√°ctica: Bell Labs (Daryl Chapin, Calvin Fuller y Gerald Pearson) inventa la primera c√©lula de silicio viable, con una eficiencia de alrededor del 6%.
                                </li>
                                <li>
                                    1958 - La Carrera Espacial: La primera aplicaci√≥n pr√°ctica a gran escala fue en el sat√©lite Vanguard I, donde los paneles solares ofrec√≠an una fuente de energ√≠a confiable para misiones a largo plazo.
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 2: FUNCIONAMIENTO QU√çMICO Y F√çSICO -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-yellow-500 pb-2">2. El Proceso Qu√≠mico: La Uni√≥n P-N</h2>
                    <div class="grid md:grid-cols-3 gap-6">

                        <!-- Semiconductor Tipo N -->
                        <div class="card solar-card p-6 rounded-lg border">
                            <h3 class="text-xl font-semibold solar-title mb-3">Capa N (Negativa)</h3>
                            <p class="text-gray-700">
                                Se crea al "dopar" el silicio puro con un elemento con 5 electrones de valencia, como el F√≥sforo (P). Esto crea un exceso de electrones libres (portadores negativos), listo para conducir.
                            </p>
                            <p class="mt-2 text-sm font-semibold">Exceso de Electrones.</p>
                        </div>

                        <!-- Semiconductor Tipo P -->
                        <div class="card solar-card p-6 rounded-lg border">
                            <h3 class="text-xl font-semibold solar-title mb-3">Capa P (Positiva)</h3>
                            <p class="text-gray-700">
                                Se crea dopando el silicio con un elemento con 3 electrones de valencia, como el Boro (B). Esto crea "huecos" (espacios vac√≠os que act√∫an como portadores positivos) y una afinidad por los electrones.
                            </p>
                            <p class="mt-2 text-sm font-semibold">Exceso de Huecos (Positivos).</p>
                        </div>

                        <!-- La Uni√≥n P-N y el Flujo -->
                        <div class="card solar-card p-6 rounded-lg border">
                            <h3 class="text-xl font-semibold solar-title mb-3">El Efecto Fotovoltaico</h3>
                            <p class="text-gray-700">
                                La uni√≥n de las capas P y N crea un campo el√©ctrico interno. Cuando un Fot√≥n (part√≠cula de luz) incide, su energ√≠a:
                            </p>
                            <ol class="list-decimal list-inside text-gray-700 mt-2 space-y-1">
                                <li>Libera un par electr√≥n-hueco en el silicio.</li>
                                <li>El campo el√©ctrico barre al electr√≥n a la capa N (negativa).</li>
                                <li>El hueco es atra√≠do a la capa P (positiva).</li>
                            </ol>
                            <p class="text-sm text-gray-500 mt-2">
                                Esto genera una diferencia de voltaje que, al conectarse a un circuito externo, provoca el flujo de corriente. 
                            </p>
                        </div>

                    </div>
                </section>

                <!-- SECCI√ìN 2.5: JUEGO DID√ÅCTICO -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-yellow-500 pb-2">¬°Juega y Aprende! Simula el Efecto Fotovoltaico</h2>
                    <div class="card bg-white p-6 rounded-lg shadow-lg border border-gray-200">
                        <div class="text-center mb-4">
                            <p class="text-gray-600">Mueve el rat√≥n para controlar el panel solar. ¬°Captura los fotones (‚òÄÔ∏è) para generar electricidad (‚ö°) antes de que se acabe el tiempo!</p>
                        </div>
                        <!-- Contenedor del Juego -->
                        <div class="relative w-full max-w-3xl mx-auto bg-gray-800 rounded-lg p-2">
                            <!-- Canvas del juego -->
                            <canvas id="game-canvas" class="w-full rounded-md" width="800" height="400"></canvas>
                            
                            <!-- UI sobre el canvas -->
                            <div class="absolute top-4 left-4 text-white bg-black bg-opacity-50 px-3 py-1 rounded">
                                <span class="font-bold">Voltaje: </span>
                                <span id="score-display">0 V</span>
                            </div>
                            <div class="absolute top-4 right-4 text-white bg-black bg-opacity-50 px-3 py-1 rounded">
                                <span class="font-bold">Tiempo: </span>
                                <span id="timer-display">30s</span>
                            </div>

                            <!-- Bot√≥n de inicio centrado -->
                            <div id="start-game-container" class="absolute inset-0 flex items-center justify-center">
                                <button id="start-game-button" class="px-8 py-4 text-xl font-bold text-white bg-green-600 rounded-lg shadow-xl hover:bg-green-700 transition transform hover:scale-105">
                                    Iniciar Juego
                                </button>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <p class="text-sm text-gray-500">Cada fot√≥n capturado libera un electr√≥n, generando una corriente. ¬°As√≠ funciona un panel solar a nivel microsc√≥pico!</p>
                        </div>
                    </div>
                </section>


                <!-- SECCI√ìN 3: RETOS Y APLICACIONES MODERNAS -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">3. Retos y Futuro de la Energ√≠a Solar</h2>
                    <div class="grid md:grid-cols-2 gap-6">
                        
                        <!-- Desaf√≠os -->
                        <div class="card bg-red-50 p-6 rounded-lg border border-red-200">
                            <h3 class="text-2xl font-semibold text-red-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path></svg>
                                Desaf√≠os Clave
                            </h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-3">
                                <li>
                                    Intermitencia (Noche y Nubes): Necesidad de sistemas de almacenamiento (bater√≠as) eficientes.
                                </li>
                                <li>
                                    Reciclaje de Paneles: Se necesita un sistema econ√≥mico y escalable para reciclar los materiales complejos (silicio, metales) de millones de paneles que caducar√°n en las pr√≥ximas d√©cadas.
                                </li>
                                <li>
                                    Ocupaci√≥n de Suelo: Las grandes granjas solares compiten con usos agr√≠colas y generan impactos ambientales si no se planifican correctamente.
                                </li>
                            </ul>
                        </div>
                        
                        <!-- Aplicaciones Modernas -->
                        <div class="card bg-blue-50 p-6 rounded-lg border border-blue-200">
                            <h3 class="text-2xl font-semibold text-blue-700 mb-3 flex items-center">
                                <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 15H9v-2h2v2zm0-4H9V8h2v4z"></path></svg>
                                Nuevas Aplicaciones
                            </h3>
                            <ul class="list-disc list-inside text-gray-700 space-y-3">
                                <li>
                                    Autoconsumo Residencial: Instalaciones de techo para consumo propio (el m√°s popular).
                                </li>
                                <li>
                                    Centrales Flotantes (Floatovoltaics): Paneles instalados sobre la superficie de lagos o embalses, reduciendo la evaporaci√≥n del agua y evitando el uso de suelo valioso.
                                </li>
                                <li>
                                    Tecnolog√≠a Perovskita: Nuevos materiales que prometen c√©lulas m√°s baratas, ligeras y con potencial para una mayor eficiencia.
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- SECCI√ìN 4: BANNER RESUMEN - IMPORTANCIA (NUEVA) -->
                <section class="mb-8 mt-12">
                    <div class="solar-summary-banner p-8 text-center">
                        <h2 class="text-3xl sm:text-4xl font-extrabold mb-4">
                            Poder Ilimitado, Futuro Sostenible
                        </h2>
                        <p class="text-lg sm:text-xl font-medium">
                            La energ√≠a solar fotovoltaica es la fuente de energ√≠a de m√°s r√°pido crecimiento y el pilar fundamental para la descarbonizaci√≥n global. Su importancia reside en su capacidad para generar electricidad limpia, inagotable y descentralizada, empoderando tanto a grandes industrias como a hogares individuales para lograr la autosuficiencia energ√©tica.
                        </p>
                        <p class="text-xl font-bold mt-4">
                            ¬°El sol es el recurso m√°s abundante en la Tierra y la base de nuestra transici√≥n energ√©tica!
                        </p>
                    </div>
                </section>

                <!-- SECCI√ìN 5: VIDEO (MOVIDO AL FINAL) -->
                <section class="mb-12">
                    <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-yellow-500 pb-2">Para Empezar: ¬øQu√© es la Energ√≠a Solar?</h2>
                    <div class="bg-white p-4 rounded-lg shadow-lg max-w-3xl mx-auto">
                        <!-- Contenedor responsivo para el video -->
                        <div class="w-full">
                            <iframe class="w-full aspect-video rounded-md" 
                                    src="https://www.youtube.com/embed/5cVpl1WGmJA" 
                                    title="Video explicativo sobre la energ√≠a solar" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                                    allowfullscreen>
                            </iframe>
                        </div>
                        <p class="text-center text-sm text-gray-500 mt-4">
                            Este video ofrece una excelente introducci√≥n visual a los conceptos b√°sicos de la energ√≠a solar fotovoltaica.
                        </p>
                    </div>
                </section>


            </main>
        </div>
    </div>

    <!-- Pie de p√°gina (Global) -->
    <footer id="global-footer" class="bg-gray-800 text-white p-4 text-center">
        <p class="text-sm">Tecnolog√≠a del Hidr√≥geno y Solar: Una Mirada al Presente y el Futuro de la Energ√≠a.</p>
    </footer>

    <script>
        // Funci√≥n de navegaci√≥n para cambiar entre vistas
        function navigateTo(viewId) {
            // Oculta todas las vistas
            document.querySelectorAll('.view').forEach(view => {
                view.classList.add('hidden');
            });

            // Muestra la vista solicitada
            const targetView = document.getElementById(viewId);
            if (targetView) {
                targetView.classList.remove('hidden');
            }

            // Manejar la visibilidad del video de fondo
            const homeView = document.getElementById('home-view');
            const videoContainer = document.querySelector('.video-container');
            const overlay = document.querySelector('.overlay');
            
            if (viewId === 'home-view') {
                document.body.style.backgroundColor = 'transparent'; // El fondo es el video
                if (videoContainer) videoContainer.style.display = 'block';
                if (overlay) overlay.style.display = 'block';
                // Asegurar que el scroll est√© arriba al volver al home
                window.scrollTo(0, 0); 
            } else {
                document.body.style.backgroundColor = '#f7fafc'; // Fondo gris para las secciones
                if (videoContainer) videoContainer.style.display = 'none';
                if (overlay) overlay.style.display = 'none';
            }
        }

        // Inicializaci√≥n: Mostrar la vista de inicio al cargar
        window.onload = function() {
            navigateTo('home-view');

            // Asegurar que el footer se mantenga fijo si no estamos en el home (para que no cubra contenido)
            // Ya que el home usa 'min-h-screen' y el footer es global.
            const footer = document.getElementById('global-footer');
            if (footer) {
                // Aqu√≠, el footer no requiere 'fixed' porque ya est√° fuera de la l√≥gica de vista,
                // solo es necesario que se muestre correctamente al final del contenido.
            }
        };

        // ============================================== //
        // L√ìGICA DEL CARRUSEL DE IM√ÅGENES                //
        // ============================================== //
        document.addEventListener('DOMContentLoaded', () => {
            // Funci√≥n gen√©rica para inicializar cualquier carrusel
            function initializeCarousel(carouselId, slidesId, dotsId) {
                const carousel = document.getElementById(carouselId);
                if (!carousel) return;

                const slidesContainer = document.getElementById(slidesId);
                const dotsContainer = document.getElementById(dotsId);
                const slides = slidesContainer.children;
                const totalSlides = slides.length;
                let currentSlide = 0;

                // Crear puntos de navegaci√≥n
                for (let i = 0; i < totalSlides; i++) {
                    const dot = document.createElement('button');
                    dot.classList.add('w-3', 'h-3', 'rounded-full', 'transition-colors', 'duration-300');
                    dot.classList.add(i === 0 ? 'bg-white' : 'bg-white/50', 'hover:bg-white');
                    dot.addEventListener('click', () => showSlide(i));
                    dotsContainer.appendChild(dot);
                }
                const dots = dotsContainer.children;

                function showSlide(slideIndex) {
                    slidesContainer.style.transform = `translateX(-${slideIndex * 100}%)`;
                    currentSlide = slideIndex;
                    // Actualizar puntos
                    for (let i = 0; i < totalSlides; i++) {
                        dots[i].classList.toggle('bg-white', i === currentSlide);
                        dots[i].classList.toggle('bg-white/50', i !== currentSlide);
                    }
                }

                // Cambio autom√°tico
                setInterval(() => {
                    showSlide((currentSlide + 1) % totalSlides);
                }, 5000); // Cambiar cada 5 segundos
            }

            // Inicializar ambos carruseles
            initializeCarousel('image-carousel', 'carousel-slides', 'carousel-dots'); // Carrusel Solar
            initializeCarousel('h2-image-carousel', 'h2-carousel-slides', 'h2-carousel-dots'); // Carrusel Hidr√≥geno
        });

        // ============================================== //
        // L√ìGICA DEL JUEGO "CAPTURADOR DE FOTONES"       //
        // ============================================== //
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        const scoreDisplay = document.getElementById('score-display');
        const timerDisplay = document.getElementById('timer-display');
        const startButton = document.getElementById('start-game-button');
        const startGameContainer = document.getElementById('start-game-container');

        // Configuraci√≥n del juego
        const GAME_TIME = 30;
        let score = 0;
        let timeLeft = GAME_TIME;
        let isGameRunning = false;
        let gameInterval, timerInterval, photonInterval;

        // Propiedades de los elementos del juego
        const panel = {
            width: 150,
            height: 20,
            x: canvas.width / 2 - 75,
            y: canvas.height - 30,
            color: '#2d3748' // Gris oscuro
        };

        let photons = [];
        let electrons = [];

        function drawPanel() {
            ctx.fillStyle = panel.color;
            ctx.fillRect(panel.x, panel.y, panel.width, panel.height);
            // Detalle reflectante
            ctx.fillStyle = '#4a5568';
            ctx.fillRect(panel.x + 5, panel.y + 5, panel.width - 10, panel.height - 10);
        }

        function drawPhotons() {
            photons.forEach(photon => {
                ctx.beginPath();
                ctx.arc(photon.x, photon.y, photon.radius, 0, Math.PI * 2);
                ctx.fillStyle = 'yellow';
                ctx.shadowColor = 'orange';
                ctx.shadowBlur = 15;
                ctx.fill();
                ctx.closePath();
            });
            ctx.shadowBlur = 0; // Resetear sombra
        }

        function drawElectrons() {
            electrons.forEach(electron => {
                ctx.fillStyle = '#4299e1'; // Azul
                ctx.shadowColor = 'cyan';
                ctx.shadowBlur = 10;
                ctx.fillRect(electron.x, electron.y, 3, 10);
            });
            ctx.shadowBlur = 0; // Resetear sombra
        }

        function updateGame() {
            if (!isGameRunning) return;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Mover y dibujar fotones
            photons.forEach((photon, index) => {
                photon.y += photon.speed;
                if (photon.y > canvas.height) {
                    photons.splice(index, 1); // Eliminar si sale de la pantalla
                }
            });

            // Mover y dibujar electrones
            electrons.forEach((electron, index) => {
                electron.y -= electron.speed;
                if (electron.y < 0) {
                    electrons.splice(index, 1); // Eliminar si llega arriba
                }
            });

            // Comprobar colisiones
            photons.forEach((photon, pIndex) => {
                if (photon.x > panel.x && photon.x < panel.x + panel.width &&
                    photon.y + photon.radius > panel.y) {
                    
                    // Colisi√≥n detectada
                    score++;
                    scoreDisplay.textContent = `${score} V`;
                    photons.splice(pIndex, 1);

                    // Crear un electr√≥n
                    electrons.push({ x: photon.x, y: panel.y, speed: 8 });
                }
            });

            drawPanel();
            drawPhotons();
            drawElectrons();
        }

        function startGame() {
            score = 0;
            timeLeft = GAME_TIME;
            photons = [];
            electrons = [];
            scoreDisplay.textContent = '0 V';
            timerDisplay.textContent = `${timeLeft}s`;
            isGameRunning = true;
            startGameContainer.style.display = 'none';

            gameInterval = setInterval(updateGame, 1000 / 60); // 60 FPS
            photonInterval = setInterval(() => {
                photons.push({
                    x: Math.random() * canvas.width,
                    y: -10,
                    radius: 8,
                    speed: 2 + Math.random() * 2
                });
            }, 500); // Nuevo fot√≥n cada 500ms

            timerInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `${timeLeft}s`;
                if (timeLeft <= 0) {
                    isGameRunning = false;
                    clearInterval(gameInterval);
                    clearInterval(timerInterval);
                    clearInterval(photonInterval);
                    startGameContainer.style.display = 'flex';
                    startButton.textContent = 'Jugar de Nuevo';
                }
            }, 1000);
        }

        // Event Listeners
        startButton.addEventListener('click', startGame);
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            let mouseX = (e.clientX - rect.left) * scaleX;
            
            panel.x = mouseX - panel.width / 2;

            // Limitar el panel a los bordes del canvas
            if (panel.x < 0) panel.x = 0;
            if (panel.x + panel.width > canvas.width) panel.x = canvas.width - panel.width;
        });

        // Soporte t√°ctil para el juego
        canvas.addEventListener('touchmove', (e) => {
            e.preventDefault(); // Evitar el scroll de la p√°gina
            const rect = canvas.getBoundingClientRect();
            const scaleX = canvas.width / rect.width;
            let touchX = (e.touches[0].clientX - rect.left) * scaleX;
            panel.x = touchX - panel.width / 2;
            if (panel.x < 0) panel.x = 0;
            if (panel.x + panel.width > canvas.width) panel.x = canvas.width - panel.width;
        });

        // ============================================== //
        // L√ìGICA DEL JUEGO "CICLO DEL HIDR√ìGENO VERDE"   //
        // ============================================== //
        document.addEventListener('DOMContentLoaded', () => {
            const startButtonH2 = document.getElementById('h2-start-button');
            if (!startButtonH2) return;

            // Elementos de la UI
            const cyclesDisplay = document.getElementById('h2-cycles-display');
            const timerDisplay = document.getElementById('h2-timer-display');
            const energyDisplay = document.getElementById('h2-energy-display');
            const h2StorageBar = document.getElementById('h2-storage-bar');
            const batteryBar = document.getElementById('h2-battery-bar');
            const generateSolarBtn = document.getElementById('generate-solar');
            const generateWindBtn = document.getElementById('generate-wind');
            const waterMolecule = document.getElementById('water-molecule');
            const electrolyzerDropZone = document.getElementById('electrolyzer');
            const endMessage = document.getElementById('h2-end-message');
            const finalTimeDisplay = document.getElementById('h2-final-time');

            // Estado del juego
            let gameActive = false;
            let cycles = 0;
            let time = 0;
            let energy = 0;
            let h2Storage = 0;
            let battery = 0;
            let timerInterval;

            const ENERGY_PER_CLICK = 10;
            const ENERGY_COST_ELECTROLYSIS = 30;
            const H2_PER_ELECTROLYSIS = 25;
            const H2_CONSUMPTION_RATE = 1;
            const BATTERY_CHARGE_RATE = 5;
            const MAX_CYCLES = 5;

            function updateUI() {
                energyDisplay.textContent = energy;
                h2StorageBar.style.width = `${h2Storage}%`;
                batteryBar.style.width = `${battery}%`;
                cyclesDisplay.textContent = cycles;
                timerDisplay.textContent = `${time}s`;
            }

            function resetGame() {
                gameActive = true;
                cycles = 0;
                time = 0;
                energy = 0;
                h2Storage = 0;
                battery = 0;
                clearInterval(timerInterval);
                endMessage.classList.add('hidden');
                startButtonH2.textContent = 'Reiniciar';
                generateSolarBtn.disabled = false;
                generateWindBtn.disabled = false;

                timerInterval = setInterval(() => {
                    time++;
                    // L√≥gica de consumo y carga
                    if (h2Storage > 0 && battery < 100) {
                        h2Storage = Math.max(0, h2Storage - H2_CONSUMPTION_RATE);
                        battery = Math.min(100, battery + BATTERY_CHARGE_RATE);
                    }
                    if (battery >= 100) {
                        cycles++;
                        battery = 0;
                        if (cycles >= MAX_CYCLES) {
                            endGame();
                        }
                    }
                    updateUI();
                }, 1000);

                updateUI();
            }

            function endGame() {
                gameActive = false;
                clearInterval(timerInterval);
                finalTimeDisplay.textContent = `Tu tiempo: ${time}s`;
                endMessage.classList.remove('hidden');
                generateSolarBtn.disabled = true;
                generateWindBtn.disabled = true;
            }

            startButtonH2.addEventListener('click', resetGame);

            generateSolarBtn.addEventListener('click', () => {
                if (gameActive) energy += ENERGY_PER_CLICK;
                updateUI();
            });
            generateWindBtn.addEventListener('click', () => {
                if (gameActive) energy += ENERGY_PER_CLICK;
                updateUI();
            });

            // L√≥gica de Drag and Drop
            waterMolecule.addEventListener('dragstart', (e) => {
                if (!gameActive) e.preventDefault();
                e.dataTransfer.setData('text/plain', 'water');
            });

            electrolyzerDropZone.addEventListener('dragover', (e) => {
                e.preventDefault();
                if (gameActive) electrolyzerDropZone.classList.add('drag-over');
            });

            electrolyzerDropZone.addEventListener('dragleave', () => {
                electrolyzerDropZone.classList.remove('drag-over');
            });

            electrolyzerDropZone.addEventListener('drop', (e) => {
                e.preventDefault();
                electrolyzerDropZone.classList.remove('drag-over');
                if (gameActive && energy >= ENERGY_COST_ELECTROLYSIS) {
                    energy -= ENERGY_COST_ELECTROLYSIS;
                    h2Storage = Math.min(100, h2Storage + H2_PER_ELECTROLYSIS);
                    updateUI();
                }
            });

            resetGame(); // Inicia el juego en un estado inicial
            gameActive = false; // Pero no lo actives hasta que se presione el bot√≥n
        });
    </script>
</body>
</html>
